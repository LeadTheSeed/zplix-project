<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Zplix Projects</title>
  <style>
    body {margin:0; font-family: Arial, sans-serif; background: #f5f5f5; color: #333;}
    header {background: #4a90e2; color:#fff; padding:20px; text-align:center;}
    h1 {margin:0; font-size:2em;}
    main {max-width:1000px; margin: 40px auto; padding:0 20px;}
    .grid {display:grid; grid-template-columns: repeat(auto-fit,minmax(200px,1fr)); gap:20px;}
    .card {background:#fff; border-radius:8px; box-shadow:0 2px 5px rgba(0,0,0,0.1); padding:20px; text-align:center;}
    .card h3 {margin-top:0;}
    .card a {display:inline-block; margin-top:10px; padding:8px 16px; background:#4a90e2; color:#fff; text-decoration:none; border-radius:4px;}
    #addAppBtn {padding:10px 20px; background:#50e3c2; border:none; color:#fff; border-radius:4px; cursor:pointer;}
    .modal {display:none; position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.5); justify-content:center; align-items:center;}
    .modal.active {display:flex;}
    .modal-content {background:#fff; padding:20px; border-radius:8px; max-width:600px; width:100%;}
    .modal-content h2 {margin-top:0;}
    .modal-content textarea {width:100%; height:80px; margin-bottom:10px; font-family:monospace;}
    .modal-content input[type="text"] {width:100%; padding:8px; margin-bottom:10px;}
    .modal-content button {padding:8px 16px; border:none; background:#4a90e2; color:#fff; border-radius:4px; cursor:pointer;}
  </style>
</head>
<body>
  <header><h1>Zplix Projects</h1></header>
  <main>
    <section class="grid" id="appGrid"></section>
    <div style="text-align:center; margin-top:20px;">
      <button id="addAppBtn">Submit Your App</button>
    </div>
  </main>

  <!-- Modal -->
  <div class="modal" id="appModal">
    <div class="modal-content">
      <h2>Submit Your App</h2>
      <input type="text" id="appName" placeholder="App Name (e.g., My Cool App)" />
      <textarea id="appHTML" placeholder="Paste full HTML here"></textarea>
      <textarea id="appCSS" placeholder="Paste CSS code here"></textarea>
      <textarea id="appJS" placeholder="Paste JavaScript code here"></textarea>
      <div style="text-align:right;">
        <button id="submitApp">Add App</button>
        <button id="closeModal" style="background:#ccc; color:#333; margin-left:10px;">Cancel</button>
      </div>
    </div>
  </div>

  <script>
    const modal = document.getElementById('appModal');
    const addBtn = document.getElementById('addAppBtn');
    const closeBtn = document.getElementById('closeModal');
    const submitBtn = document.getElementById('submitApp');
    const grid = document.getElementById('appGrid');

    function toggleModal(show) {
      modal.classList.toggle('active', show);
    }

    addBtn.addEventListener('click', () => toggleModal(true));
    closeBtn.addEventListener('click', () => toggleModal(false));

    function getApps() {
      return JSON.parse(localStorage.getItem('userApps')||'[]');
    }
    function saveApps(apps) {
      localStorage.setItem('userApps', JSON.stringify(apps));
    }

    function renderApps() {
      grid.innerHTML = '';
      const base = [
        {name:'Calculator',url:'./calculator/index.html'},
        {name:'Digital Clock',url:'./app1/index.html'},
        {name:'Quote Generator',url:'./app2/index.html'}
      ];
      base.concat(getApps()).forEach(app => {
        const card = document.createElement('div');card.className='card';
        const title = document.createElement('h3');title.textContent=app.name;
        const link = document.createElement('a');link.textContent='Open';link.href=app.url;link.target='_blank';
        card.append(title,link);
        grid.appendChild(card);
      });
    }

    submitBtn.addEventListener('click', () => {
      const name = document.getElementById('appName').value.trim();
      const html = document.getElementById('appHTML').value;
      const css = document.getElementById('appCSS').value;
      const js = document.getElementById('appJS').value;
      if(!name||!html) return alert('Provide at least a name & HTML.');
      let full = html;
      if(css) full = full.replace('</head>',`<style>${css}</style></head>`);
      if(js) full = full.replace('</body>',`<script>${js}</script></body>`);
      const blob = new Blob([full],{type:'text/html'});
      const url = URL.createObjectURL(blob);
      const apps = getApps();apps.push({name,url});
      saveApps(apps);
      renderApps();toggleModal(false);
    });

    renderApps();
  </script>
</body>
</html>